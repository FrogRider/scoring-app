(function(e){function t(t){for(var n,s,r=t[0],l=t[1],u=t[2],b=0,d=[];b<r.length;b++)s=r[b],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);i&&i(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),c()}function c(){for(var e,t=0;t<o.length;t++){for(var c=o[t],n=!0,r=1;r<c.length;r++){var l=c[r];0!==a[l]&&(n=!1)}n&&(o.splice(t--,1),e=s(s.s=c[0]))}return e}var n={},a={app:0},o=[];function s(t){if(n[t])return n[t].exports;var c=n[t]={i:t,l:!1,exports:{}};return e[t].call(c.exports,c,c.exports,s),c.l=!0,c.exports}s.m=e,s.c=n,s.d=function(e,t,c){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:c})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(c,n,function(t){return e[t]}.bind(null,n));return c},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/scoring-app/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=t,r=r.slice();for(var u=0;u<r.length;u++)t(r[u]);var i=l;o.push([0,"chunk-vendors"]),c()})({0:function(e,t,c){e.exports=c("56d7")},"182e":function(e,t,c){},"1d35":function(e,t,c){},2634:function(e,t,c){},"32ea":function(e,t,c){"use strict";c("182e")},5343:function(e,t,c){},"54fd":function(e,t,c){},"56d7":function(e,t,c){"use strict";c.r(t);var n=c("7a23"),a=c("be92");const o=Object(a["b"])("BaseStore",{state:()=>({isLoading:!1,showPasswordComponent:!0,isAdmin:!1}),getters:{},actions:{showLoader(){this.isLoading=!0},hideLoader(){setTimeout(()=>{this.isLoading=!1},"1000")}}});var s=o;const r=Object(n["createElementVNode"])("div",{class:"preloader__spinner"},null,-1),l=[r];var u={__name:"Loader",setup(e){const t=s(),{isLoading:c}=Object(a["c"])(t),o=()=>{c.value?document.body.classList.add("disabledScroll"):document.body.classList.remove("disabledScroll")};return Object(n["watch"])(c,()=>{o()}),(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["preloader",{showLoader:Object(n["unref"])(c)}])},l,2))}};c("d0ed");const i=u;var b=i;const d={class:"wrapper"};var p={__name:"App",setup(e){return(e,t)=>{const c=Object(n["resolveComponent"])("notifications"),a=Object(n["resolveComponent"])("router-view");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",d,[Object(n["createVNode"])(c,{position:"top right"}),Object(n["createVNode"])(b),Object(n["createVNode"])(a)])}}};c("91f2");const O=p;var j=O,m=c("6605");const v=Object(a["b"])("UsersStore",{state:()=>({users:[]}),getters:{getSortedUsers(){return this.users.sort((e,t)=>t.points-e.points)}},actions:{setPoints(e,t){this.users[e].points=t},removeUser(e){this.users=this.users.filter(t=>t.key!==e)}}});var f=v,_=c("2591"),h=c("5779"),y=c("0d7b");const k=(e="",t="success")=>{Object(y["b"])({type:t,text:e})},g=(e=!1)=>{if(!e)return k("Нет прав для изменения данных","error"),!0},w={class:"user__title"},N={class:"user__adminButtons"},V={class:"user__togglePointsDirection"},E={class:"user__addPoints"},B={class:"user__buttons"},C={class:"user__buttonsAdd"},L=["onClick"],S={class:"forDesctop"},P={class:"forMobile"},D={class:"user__buttonsDelete"};var I={__name:"User",props:{user:{type:Object},userIndex:{type:Number}},setup(e){const t=e,{user:c,userIndex:o}=Object(n["toRefs"])(t),r=s(),{isAdmin:l}=Object(a["c"])(r),u=f(),{users:i}=Object(a["c"])(u),b=[1,5,10],d=Object(n["ref"])(!0),p=Object(n["ref"])(null),O=Object(n["computed"])(()=>d.value?"Добавить":"Отнять"),j=Object(n["computed"])(()=>d.value?"+":"-"),m=Object(n["computed"])(()=>0===o.value&&c.value.points>0),v=e=>d.value?c.value.points+=e:c.value.points-=e,y=async()=>{g(l.value)||(p.value?(v(p.value),r.showLoader(),await _["a"].database().ref("users").child(c.value.key).update({points:c.value.points}),p.value=null,r.hideLoader()):k("Введите количество баллов","warn"))},I=Object(n["computed"])(()=>!0===d.value),A=e=>{d.value=e},x=e=>e>10,U=async(e,t)=>{g(l.value)||(r.showLoader(),v(e),await _["a"].database().ref("users").child(t.key).update({points:t.points}),r.hideLoader())},z=async e=>{g(l.value)||(r.showLoader(),c.value.points=0,await _["a"].database().ref("users").child(e).update({points:0}),r.hideLoader())},M=async e=>{g(l.value)||(r.showLoader(),await _["a"].database().ref("users").child(e).remove(),u.removeUser(e),r.hideLoader())};return(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["user",{user__outlined:x(Object(n["unref"])(c).points),user__crown:Object(n["unref"])(m)}])},[Object(n["createElementVNode"])("p",w,Object(n["toDisplayString"])(Object(n["unref"])(c).name)+": "+Object(n["toDisplayString"])(Object(n["unref"])(c).points),1),Object(n["createElementVNode"])("div",N,[Object(n["createElementVNode"])("div",V,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["user__togglePointsDirectionItem user__togglePointsDirectionItem_plus",{active:Object(n["unref"])(I)}]),onClick:t[0]||(t[0]=e=>A(!0))},[Object(n["createVNode"])(Object(n["unref"])(h["a"]),{icon:"akar-icons:plus"})],2),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["user__togglePointsDirectionItem user__togglePointsDirectionItem_minus",{active:!Object(n["unref"])(I)}]),onClick:t[1]||(t[1]=e=>A(!1))},[Object(n["createVNode"])(Object(n["unref"])(h["a"]),{icon:"akar-icons:minus"})],2)]),Object(n["createElementVNode"])("div",E,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{placeholder:"Введите баллы",class:"input",type:"number","onUpdate:modelValue":t[2]||(t[2]=e=>p.value=e),onKeyup:t[3]||(t[3]=Object(n["withKeys"])(e=>y(),["enter"]))},null,544),[[n["vModelText"],p.value]]),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["button button_accept button_ml10",{button_disabled:!Object(n["unref"])(l)}]),onClick:t[4]||(t[4]=e=>y())},Object(n["toDisplayString"])(Object(n["unref"])(O)),3)]),Object(n["createElementVNode"])("div",B,[Object(n["createElementVNode"])("div",C,[(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(b,e=>Object(n["createElementVNode"])("div",{key:e,class:Object(n["normalizeClass"])(["button",{button_disabled:!Object(n["unref"])(l)}]),onClick:t=>U(e,Object(n["unref"])(c))},[Object(n["createElementVNode"])("span",S,Object(n["toDisplayString"])(Object(n["unref"])(O)),1),Object(n["createElementVNode"])("span",P,Object(n["toDisplayString"])(Object(n["unref"])(j)),1),Object(n["createTextVNode"])(" "+Object(n["toDisplayString"])(e),1)],10,L)),64))]),Object(n["createElementVNode"])("div",D,[Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["button button_decline",{button_disabled:!Object(n["unref"])(l)}]),onClick:t[5]||(t[5]=e=>z(Object(n["unref"])(c).key))}," Очистить ",2),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["button button_decline",{button_disabled:!Object(n["unref"])(l)}]),onClick:t[6]||(t[6]=t=>M(Object(n["unref"])(c).key,e.index))}," Удалить ",2)])])])],2))}},A=(c("a9db"),c("6b0d")),x=c.n(A);const U=x()(I,[["__scopeId","data-v-3761a07c"]]);var z=U,M=c("a1a4");const T={class:"users"};var K={__name:"Users",props:{users:{type:Array}},setup(e){const t=e,c=f(),{getSortedUsers:o}=Object(a["c"])(c),{users:s}=Object(n["toRefs"])(t);return(e,t)=>Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createElementBlock"])("div",T,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(Object(n["unref"])(o),(e,t)=>(Object(n["openBlock"])(),Object(n["createBlock"])(z,{key:e.key,user:e,userIndex:t},null,8,["user","userIndex"]))),128))])),[[Object(n["unref"])(M["b"])]])}};c("9ade");const G=K;var J=G;c("14d9");const R={class:"addUser"};var F={__name:"AddUser",setup(e){const t=f(),c=s(),{isAdmin:o}=Object(a["c"])(c),{users:r}=Object(a["c"])(t),l=Object(n["ref"])(""),u=async()=>{if(!o.value||0===l.value.length)return;const e={name:l.value,points:0},t=await _["a"].database().ref("users").push(e);r.value.push({...e,key:t.key}),l.value=""};return(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",R,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{class:"input",type:"text",placeholder:"Имя нового пользователя","onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),onKeyup:t[1]||(t[1]=Object(n["withKeys"])(e=>u(),["enter"]))},null,544),[[n["vModelText"],l.value]]),Object(n["createElementVNode"])("div",{class:Object(n["normalizeClass"])(["button button_ml10",{button_disabled:!Object(n["unref"])(o)}]),onClick:t[2]||(t[2]=e=>u())},"Добавить",2)]))}};c("32ea");const H=x()(F,[["__scopeId","data-v-266c8722"]]);var Q=H;const X=Object(n["createElementVNode"])("hr",null,null,-1);var Y={__name:"AdminPassword",setup(e){const t=s(),{showPasswordComponent:c,isAdmin:o}=Object(a["c"])(t),r="yaadminotvechaiu",l=Object(n["ref"])(""),u=()=>{l.value===r?(localStorage.setItem("SCORING_APP_ADMIN",!0),c.value=!1,o.value=!0):k("Пароль не верный","error")};return(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("input",{type:"password",class:"input","onUpdate:modelValue":t[0]||(t[0]=e=>l.value=e),placeholder:"Пароль адмнистратора",onKeyup:t[1]||(t[1]=Object(n["withKeys"])(e=>u(),["enter"]))},null,544),[[n["vModelText"],l.value]]),Object(n["createElementVNode"])("div",{class:"button button_ml10",onClick:t[2]||(t[2]=e=>u())},"Войти"),X]))}};c("c350");const q=Y;var W=q,Z={__name:"TotalPoints",setup(e){const t=f(),{users:c}=Object(a["c"])(t),o=Object(n["computed"])(()=>{let e=0;return c.value.map(t=>{e+=t.points}),e});return(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",null," Всего баллов: "+Object(n["toDisplayString"])(Object(n["unref"])(o)),1))}};const $=Z;var ee=$,te=(c("13d5"),{__name:"ClearAll",setup(e){const t=s(),{isAdmin:c}=Object(a["c"])(t),o=f(),{users:r}=Object(a["c"])(o),l=async()=>{if(g(c.value))return;t.showLoader(),r.value.map(e=>{e.points=0});const e=r.value.reduce((e,t)=>({...e,[t.key]:{name:t.name,points:t.points}}),{});await _["a"].database().ref("users").set(e),t.hideLoader()};return(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{class:Object(n["normalizeClass"])(["button button_decline",{button_disabled:!Object(n["unref"])(c)}]),onClick:t[0]||(t[0]=e=>l())}," Удалить все баллы ",2))}});const ce=te;var ne=ce;const ae={class:"home"},oe={class:"mainContent"};var se={__name:"Home",setup(e){const t=f(),c=s(),{users:o}=Object(a["c"])(t),r=Object(n["computed"])(()=>o.value.length),{isLoading:l,showPasswordComponent:u,isAdmin:i}=Object(a["c"])(c),b=async()=>{const e=await _["a"].database().ref("users").once("value"),t=e.val();return t?Object.entries(t).map(e=>({key:e[0],name:e[1].name,points:e[1].points})):[]},d=()=>{JSON.parse(localStorage.getItem("SCORING_APP_ADMIN"))&&(u.value=!1,i.value=!0)};return Object(n["onMounted"])(async()=>{c.showLoader();const e=await b();o.value=e,d(),c.hideLoader()}),(e,t)=>(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",ae,[Object(n["createElementVNode"])("div",oe,[Object(n["unref"])(u)?(Object(n["openBlock"])(),Object(n["createBlock"])(W,{key:0})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(Q),Object(n["unref"])(r)?(Object(n["openBlock"])(),Object(n["createBlock"])(J,{key:1,users:Object(n["unref"])(o)},null,8,["users"])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(ee),Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(ne)])])]))}};c("dab4");const re=se;var le=re;const ue=[{path:"/",name:"Home",component:le}],ie=Object(m["a"])({history:Object(m["b"])(),routes:ue});var be=ie,de=c("260b"),pe=c("c749");Object(n["createApp"])({created(){const e=JSON.parse('{"apiKey":"AIzaSyDcljchEoPvQY17GatYUSo0QxkTX-vJ_a8","authDomain":"scoring-app-5bee6.firebaseapp.com","projectId":"scoring-app-5bee6","storageBucket":"scoring-app-5bee6.appspot.com","messagingSenderId":"1023325722401","appId":"1:1023325722401:web:bcaf01c6df06096eec1060","measurementId":"G-VN1G2LX4TM","databaseURL":"https://scoring-app-5bee6-default-rtdb.europe-west1.firebasedatabase.app/"}');de["a"].initializeApp(e)},render:()=>Object(n["h"])(j)}).use(be).use(y["a"]).use(Object(a["a"])()).use(pe["a"]).mount("#app")},"6a7a":function(e,t,c){},"91f2":function(e,t,c){"use strict";c("5343")},"9ade":function(e,t,c){"use strict";c("1d35")},a9db:function(e,t,c){"use strict";c("54fd")},c350:function(e,t,c){"use strict";c("6a7a")},d0ed:function(e,t,c){"use strict";c("eff1")},dab4:function(e,t,c){"use strict";c("2634")},eff1:function(e,t,c){}});
//# sourceMappingURL=app.dcf4b4f8.js.map